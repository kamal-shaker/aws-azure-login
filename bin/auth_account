#!/bin/sh

ACCTS=`docker run --rm -it -v ~/.aws:/root/.aws -e AZURE_DEFAULT_PASSWORD  -e AZURE_DEFAULT_USERNAME  aws-azure-login-latest --no-prompt  --list | grep aws:`

echo $ACCTS

exit 0
ACCTS="
arn:aws:iam::073726018331:role/svt-platform-admin
arn:aws:iam::531633219220:role/uat-internalapps-readonly
arn:aws:iam::531633219220:role/uat-internalapps-admin
arn:aws:iam::257543604920:role/dev-internalapps-admin
arn:aws:iam::601728036320:role/prod-internalapps-readonly
arn:aws:iam::601728036320:role/prod-internalapps-admin
arn:aws:iam::207170037634:role/svt-internalapps-readonly
arn:aws:iam::207170037634:role/svt-internalapps-admin
arn:aws:iam::329510466433:role/staging-auth-infrasupport
arn:aws:iam::329510466433:role/staging-auth-performance
arn:aws:iam::329510466433:role/staging-auth-developers
arn:aws:iam::329510466433:role/staging-auth-appsupport
arn:aws:iam::329510466433:role/staging-auth-cloudplatform
arn:aws:iam::590366751379:role/prod-auth-cloudplatform
arn:aws:iam::590366751379:role/prod-auth-infrasupport
arn:aws:iam::590366751379:role/prod-auth-appsupport
arn:aws:iam::590366751379:role/prod-auth-performance
arn:aws:iam::590366751379:role/prod-auth-developers
"

for A in ${ACCTS}
do
  short=`echo $A | cut -d/ -f2`
  echo $A
  echo $short
  echo "alias "$short"='export AZURE_DEFAULT_ROLE_ARN="${A}" ; docker run --rm -it -v ~/.aws:/root/.aws -e AZURE_DEFAULT_PASSWORD  -e AZURE_DEFAULT_USERNAME -e AZURE_DEFAULT_ROLE_ARN aws-azure-login-latest --no-prompt'"

done

